const WALLET_SERVICE_URL="https://5d073b61fa00250014577c37.mockapi.io/wallet",MINER_POOL_URL="https://eth.2miners.com/api/accounts/",PRICE_SERVICE_URL="https://api.coingecko.com/api/v3/simple/price?vs_currencies=usd&ids=ethereum";var vapp=new Vue({el:"#app",data:{wallets:[],price:0,miners:[],twallet:[],c:0},methods:{getEthPrice:function(){this.$http.get(PRICE_SERVICE_URL).then(t=>{let e=t.body;this.price=e.ethereum.usd},t=>{console.log(t)})},getAllWallet:function(){this.$http.get(WALLET_SERVICE_URL).then(t=>{let e=t.body;this.c=0,this.twallet=[];e.forEach(t=>{this.$http.get(MINER_POOL_URL+t.address).then(a=>{this.twallet.push({id:t.id,name:t.name,address:t.address,details:a.body}),this.c==e.length-1&&(this.wallets=this.twallet.sort(this.compare)),this.c++},t=>{console.log(t)})})},t=>{console.log(t)})},formatNumber:function(t,e){return t.toFixed(e).replace(/\d(?=(\d{3})+\.)/g,"$&,")},formatDateTime:function(t){let e=new Date(1e3*t);return moment(e).fromNow()},formatHashrate:function(t){let e=t/1e6;return e>=1e3?this.formatNumber(t/1e9,2)+" GH/s":this.formatNumber(e,1)+" MH/s"},compare:function(t,e){return t.details.workersTotal>e.details.workersTotal?-1:t.details.workersTotal<e.details.workersTotal?1:t.details.currentHashrate>e.details.currentHashrate?-1:t.details.currentHashrate<e.details.currentHashrate?1:0}},mounted:function(){this.getEthPrice(),this.getAllWallet()}});$(document).ready(function(){setInterval(function(){$("#autoUpdate").is(":checked")&&vapp.getAllWallet()},9e4)});